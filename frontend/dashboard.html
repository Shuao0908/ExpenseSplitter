<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expense Splitter Dashboard</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <div class="container mt-4">
        <h2 class="text-center">Expense Splitter Dashboard</h2>
        
        <!-- Create Group Section -->
        <div class="card mb-4">
            <div class="card-header">Create Group</div>
            <div class="card-body">
                <label for="groupName">Group Name:</label>
                <input type="text" id="groupName" class="form-control mb-2" placeholder="Enter Group Name">
                <label for="createdBy">Your Email:</label>
                <input type="email" id="createdBy" class="form-control mb-2" placeholder="Enter Your Email">
                <label for="participantEmail">Add Participants:</label>
                <input type="email" id="participantEmail" class="form-control mb-2" placeholder="Enter Participant Email">
                <button class="btn btn-secondary mb-2" onclick="addParticipant()">Add Participant</button>
                <ul id="participantList" class="list-group mb-2"></ul>
                <button class="btn btn-primary" onclick="createGroup()">Create Group</button>
                <ul id="groupList" class="mt-3 list-group"></ul>
            </div>
        </div>
        
        <!-- Add Expense Section -->
        <div class="card mb-4">
            <div class="card-header">Add Expense</div>
            <div class="card-body">
                <label for="amount">Amount:</label>
                <input type="number" id="amount" class="form-control mb-2" placeholder="Enter Amount">
                <label for="payer">Payer:</label>
                <input type="text" id="payer" class="form-control mb-2" placeholder="Enter Payer Name">
                <label for="category">Category:</label>
                <select id="category" class="form-control mb-2">
                    <option>Food</option>
                    <option>Transport</option>
                    <option>Entertainment</option>
                    <option>Other</option>
                </select>
                <label for="groupSelect">Group:</label>
                <select id="groupSelect" class="form-control mb-2"></select>
                <label for="splitType">Split Type:</label>
                <select id="splitType" class="form-control mb-2" onchange="toggleSplitType()">
                    <option value="equal">Split Equally</option>
                    <option value="exact">Split by Exact Amount</option>
                </select>
                <div id="exactSplitInputs" class="mb-2" style="display: none;"></div>
                <button class="btn btn-success" onclick="addExpense()">Add Expense</button>
            </div>
        </div>
        
        <!-- Settle Debts Section -->
        <div class="card mb-4">
            <div class="card-header">Settle Debts</div>
            <div class="card-body">
                <label for="settleAmount">Amount to Settle:</label>
                <input type="number" id="settleAmount" class="form-control mb-2" placeholder="Enter Amount">
                <label for="settleMethod">Payment Method:</label>
                <input type="text" id="settleMethod" class="form-control mb-2" placeholder="Enter Payment Method">
                <button class="btn btn-warning" onclick="settleDebt()">Settle Debt</button>
            </div>
        </div>
        
        <!-- View Expenses Section -->
        <div class="card mb-4">
            <div class="card-header text-center">Expenses</div>
            <div class="card-body text-center">
                <ul id="expenseList" class="list-group"></ul>
            </div>
        </div>
    </div>
    
    <script>
        let groups = [];
        let expenses = [];
        let participants = [];

        function addParticipant() {
            let participantEmail = $("#participantEmail").val();
            if (!participantEmail) {
                alert("Please enter a valid email.");
                return;
            }
            participants.push(participantEmail);
            $("#participantList").append(`<li class='list-group-item'>${participantEmail}</li>`);
            $("#participantEmail").val("");
        }

        function createGroup() {
            let groupName = $("#groupName").val();
            let createdBy = $("#createdBy").val();
            let createdAt = new Date().toLocaleString();
            if (!groupName || !createdBy) {
                alert("Please enter a group name and your email.");
                return;
            }
            let group = { name: groupName, createdBy, createdAt, members: participants };
            groups.push(group);
            $("#groupList").append(`<li class='list-group-item'>${groupName} (Created by: ${createdBy} on ${createdAt})</li>`);
            $("#groupSelect").append(`<option>${groupName}</option>`);
            $("#groupName, #createdBy").val("");
            participants = [];
            $("#participantList").empty();
        }
    </script>
</body>
</html>
